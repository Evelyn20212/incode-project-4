<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include("./partials/head") %>
  </head>

  <body>
    <header><%- include("./partials/header") %></header>

    <main>
      <h1>Schedule Website</h1>
      <h2><%= user.firstname %> <%= user.surname %> - <%= user.email %></h2>

      <table>
        <thead>
          <tr>
            <% for (const property in schedule[0]) { %>
            <th><%= capitalize(property) %></th>
            <% } %>
          </tr>
        </thead>

        <tbody>
          <% schedule.forEach(schedule => { %>
          <tr>
            <% for (const property in schedule) { %>
            <td><%= schedule[property] %></td>
            <% } %>
          </tr>
          <% }) %>
        </tbody>

        <tfoot>
          <th colspan="<%= Object.keys(schedule[0]).length - 1 %>">
            Total Schedules
          </th>
          <td colspan="1"><%= schedule.length %></td>
        </tfoot>
      </table>
    </main>

    <footer><%- include("./partials/footer") %></footer>
  </body>
</html>
