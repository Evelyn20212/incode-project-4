<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include("./partials/head") %>
  </head>

  <body>
    <header><%- include("./partials/header") %></header>

    <main>
      <h1>Schedule Website</h1>
      <h2>View and manage your schedules</h2>

      <section>
        <form action="/schedule-management" method="post">
          <div>
            <label for="day_of_week">Day of the week: </label>
            <select name="day_of_week" id="day_of_week" required>
              <option value="">Select a day</option>
              <option value="1">Monday</option>
              <option value="2">Tuesday</option>
              <option value="3">Wednesday</option>
              <option value="4">Thursday</option>
              <option value="5">Friday</option>
              <option value="6">Saturday</option>
              <option value="7">Sunday</option>
            </select>
          </div>

          <div>
            <label for="start_time">Start at: </label>
            <select name="start_time" id="start_time" required>
              <option value="">Select a start time</option>
              <option value="00:00">00:00</option>
              <option value="01:00">01:00</option>
              <option value="02:00">02:00</option>
              <option value="03:00">03:00</option>
              <option value="04:00">04:00</option>
              <option value="05:00">05:00</option>
              <option value="06:00">06:00</option>
              <option value="07:00">07:00</option>
              <option value="08:00">08:00</option>
              <option value="09:00">09:00</option>
              <option value="10:00">10:00</option>
              <option value="11:00">11:00</option>
              <option value="11:00">11:00</option>
              <option value="12:00">12:00</option>
              <option value="13:00">13:00</option>
              <option value="14:00">14:00</option>
              <option value="15:00">15:00</option>
              <option value="16:00">16:00</option>
              <option value="17:00">17:00</option>
              <option value="18:00">18:00</option>
              <option value="19:00">19:00</option>
              <option value="20:00">20:00</option>
              <option value="21:00">21:00</option>
              <option value="22:00">22:00</option>
              <option value="23:00">23:00</option>
            </select>
          </div>

          <div>
            <label for="end_time">End at: </label>
            <select name="end_time" id="end_time" required>
              <option value="">Select an end time</option>
              <option value="00:00">00:00</option>
              <option value="01:00">01:00</option>
              <option value="02:00">02:00</option>
              <option value="03:00">03:00</option>
              <option value="04:00">04:00</option>
              <option value="05:00">05:00</option>
              <option value="06:00">06:00</option>
              <option value="07:00">07:00</option>
              <option value="08:00">08:00</option>
              <option value="09:00">09:00</option>
              <option value="10:00">10:00</option>
              <option value="11:00">11:00</option>
              <option value="11:00">11:00</option>
              <option value="12:00">12:00</option>
              <option value="13:00">13:00</option>
              <option value="14:00">14:00</option>
              <option value="15:00">15:00</option>
              <option value="16:00">16:00</option>
              <option value="17:00">17:00</option>
              <option value="18:00">18:00</option>
              <option value="19:00">19:00</option>
              <option value="20:00">20:00</option>
              <option value="21:00">21:00</option>
              <option value="22:00">22:00</option>
              <option value="23:00">23:00</option>
            </select>
          </div>

          <div>
            <button id="submit">Create schedule</button>
          </div>
        </form>
      </section>

      <section>
        <table>
          <thead>
            <tr>
              <% for (const property in schedule[0]) { %>
              <th><%= capitalize(property) %></th>
              <% } %>
            </tr>
          </thead>

          <tbody>
            <% schedule.forEach(schedule => { %>
            <tr>
              <% for (const property in schedule) { %>
              <td>
                <a href="/user/<%= schedule.user_id %> ">
                  <%= schedule[property] %>
                </a>
              </td>
              <% } %>
            </tr>
            <% }) %>
          </tbody>

          <tfoot>
            <tr>
              <% if (schedule[0]) { %>
              <td colspan="<%= Object.keys(schedule[0]).length - 1 %>">
                Total Schedules
              </td>
              <td colspan="1"><%= schedule.length %></td>
              <% } %>
            </tr>
          </tfoot>
        </table>
      </section>
    </main>

    <footer><%- include("./partials/footer") %></footer>
  </body>
</html>
